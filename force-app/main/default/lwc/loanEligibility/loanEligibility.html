<template>

    <template if:true={isOpenLoanPage}>
        <div class="slds-grid slds-grid_vertical">
            <div class="dashboard-container1">
                <div class="header">
                    <div class="header-content">
                        <h1>Apply For a Loan</h1><br>
                        <p>Helping you to Apply for a Loan.</p>
                    </div>
                </div>

                <div class="welcome-card">
                    <div class="card-content">
                        <h2>Welcome!!</h2><br>
                        <p>We give comprehensive services that provide financial planning, investment management, </p>
                        <br>
                        <p>and personalized advice to help individuals grow and protect their wealth.</p>
                    </div>
                    <div class="image-container">
                        <img src={loanPicUrl} alt="Dashboard Illustration" class="image">
                    </div>
                </div>

                <template if:true={Loans}>
                    <div class="e-card">
                        <div class="table-container">
                            <div class="slds-grid table-controls">
                                <div class="card-content">
                                    <h2>Recent Loans</h2>
                                </div>
                                <div class="slds-col_bump-left">
                                    <lightning-input type="search" placeholder="Search..." onchange={handleSearchLoan}>
                                    </lightning-input>
                                </div>
                                <div>
                                    <button class="slds-button slds-button_brand" onclick={handleaddloan}>
                                        New Loan
                                    </button>
                                </div>
                            </div>
                          

    <!-- Loan List View -->
    <template if:true={showLoanDetails}>
        <table class="data-table">
            <thead>
                <tr>
                    <th>Loan Name</th>
                    <th>Record Type</th>
                    <th>Annual Income</th>
                    <th>Created Date</th>
                    <th>Details</th>
                </tr>
            </thead>
            <tbody>
                <template for:each={Loans} for:item="loan">
                    <tr key={loan.Id}>
                        <td>{loan.Name}</td>
                        <td>{loan.Loan_Type__c}</td>
                        <td>{loan.Annual_Income__c}</td>
                        <td>{loan.CreatedDate}</td>
                        <td>
                            <lightning-button-icon 
                                icon-name="utility:apps" 
                                alternative-text="More Actions" 
                                data-id={loan.Id} 
                                onclick={handleMoreActions}>
                            </lightning-button-icon>
                        </td>
                    </tr>
                </template>
            </tbody>
        </table>
    </template>
                        </div>
                    </div>
                </template>
                <template if:true={error}>
                    <p class="slds-text-color_error">{error}</p>
                </template>
            </div>
        </div>
    </template>
     <template if:true={showLoanDetailss}>
    <div class="header-container">
        <h2 class="card-content" style="color: white;">
            <div class="dashboard-container">
                <template if:true={loanDetails}>
                    <!-- Header Section -->
                    <header class="dashboard-header">
                        <h1>{loanDetails.Borrower_s_Name__c}</h1>
                        <p>{loanDetails.New_Account__r.Name}</p>
                    </header>
                </template>

                <!-- Cards Section -->
                <div class="timeline-card-horizontal">
                    <div class="card-container">
                        <!-- Card 1: Personal Information -->
                        <div class="card card-large blue">
                            <p class="title">Personal Information</p>
                            <div class="subTitle-container">
                                <template if:true={loanDetails}>
                                    <div class="loan-details">
                                        <p><strong>Name:</strong> {loanDetails.Borrower_s_Name__c}</p>
                                        <p><strong>Account Number:</strong> {loanDetails.New_Account__r.Name}</p>
                                        <p><strong>Email:</strong> {loanDetails.EmailAddress__c}</p>
                                        <p><strong>Phone:</strong> {loanDetails.Phone_number__c}</p>
                                        <p><strong>Date of Birth:</strong> {loanDetails.Date_Of_Birth__c}</p>
                                    </div>
                                </template>
                            </div>
                        </div>

                        <!-- Card 2: Documentation -->
                        <div class="card card-large yellow">
                            <p class="title">Documentation</p>
                            <div class="subTitle-container">
                                 <template if:true={loanDetails}>
                                <ul>
                                    <li>{loanDetails.Uploaded_Documents__c}</li>
                                    <li>Pan Card</li>
                                    <li>Driving License</li>
                                    <li>3 months Salary Slip</li>

                                    
                                </ul>
                                </template>
                            </div>
                        </div>

                        <!-- Card 3: Loan Information -->
                        <div class="card card-large green">
                            <p class="title">Loan Information</p>
                            <div class="subTitle-container">
                                <template if:true={loanDetails}>
                                    <div class="loan-details">
                                        <p><strong>Loan Amount:</strong> {loanDetails.Loan_Amount__c}</p>
                                        <p><strong>Loan Purpose:</strong> {loanDetails.Loan_Purpose__c}</p>
                                        <p><strong>Loan Term (Months):</strong> {loanDetails.Loan_Term_Months__c}</p>
                                        <p><strong>Annual Income:</strong> {loanDetails.Annual_Income__c}</p>
                                        <p><strong>Loan Type:</strong> {loanDetails.Loan_Type__c}</p>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>
                    </div>
                    </div>
                    <!-- assigner table -->
                    <div class="slds-grid slds-gutters">
                        <div class="slds-col">
                            <!-- assigner table 000 -->
                            <div class="container">
        <!-- <h2>People</h2> -->
        <div class="people-list">
            <div class="person">
                <img src={maleprofile} alt="Dashboard Illustration" class="assignimage">
                <div class="details">
                    <p class="name">Sid Rooney</p>
                    <p class="position">Position</p>
                </div>
                <button class="assign-button">Assign</button>
            </div>
            <div class="person">
                <img src={femaleprofile} alt="Dashboard Illustration" class="assignimage">
                <div class="details">
                    <p class="name">Keelan Garza</p>
                    <p class="position">Position</p>
                </div>
                <button class="assign-button">Assign</button>
            </div>
            <div class="person">
                <img src={femaleprofile} alt="Profile Picture" class="assignimage">
                <div class="details">
                    <p class="name">Kaia Smyth</p>
                    <p class="position">Position</p>
                </div>
                <button class="assign-button">Assign</button>
            </div>
            <div class="person">
                <img src={femaleprofile} alt="Profile Picture" class="assignimage">
                <div class="details">
                    <p class="name">Kerri Kearney</p>
                    <p class="position">Position</p>
                </div>
                <button class="assign-button">Assign</button>
            </div>
           
        </div>
    </div>
                        </div>
                        <div class="slds-col">
                            <span>2</span>
                        </div>
                </div>
                </h2>
            </div>
                    <lightning-button label="Back" onclick={handleBacky} class="slds-m-top_medium"></lightning-button>
</template>

    <!-- New Loan View -->
    <template if:true={isNewLoanPage}>
        <div class="new-loan-container">
            <button class="slds-button slds-button_neutral" onclick={handleBackToDashboard}>
                Back
            </button>
            <h2>Check For Eligibility</h2>
            <div class="card-container1">

                <!-- Your Loan Eligibility Cards -->
                <div class="card-container1">

                    <!-- First Card -->
                    <div class="card">

                        <div class="card-content">
                            <h2 class="card-title">
                                Personal Loan
                            </h2>
                            <p class="card-description">
                                Elite Bank of India offers hassle-free personal loans to fulfill your dreams, whether
                                it’s a
                                vacation, wedding, or
                                emergency. With competitive interest rates, quick approval, and flexible repayment
                                options,
                                Elite Bank ensures a
                                seamless borrowing experience. Enjoy financial freedom with trusted service and
                                transparent
                                policies tailored for you.</p>
                            <ul class="card-list">
                                <li>Low Interest Rates</li>
                                <li>Quick Disbursal</li>
                                <li>No Hidden Charges</li>
                            </ul>
                            <button class="card-button" onclick={personalEligibility}>
                   Personal Loan ELigibility
                </button>
                        </div>
                    </div>

                    <!-- Second Card -->
                    <div class="card">

                        <div class="card-content">
                            <h2 class="card-title">
                                Home Loan
                            </h2>
                            <p class="card-description">
                                Dreaming of your own home? Elite Bank of India offers flexible home loan solutions with
                                competitive interest rates, minimal documentation, and quick approvals. Whether it's
                                buying,
                                constructing, or renovating, we’ve got you covered. Let us help turn your dream home
                                into a
                                reality with our trusted financial expertise.
                            </p>
                            <ul class="card-list">
                                <li>Attractive Interest Rates</li>
                                <li>Flexible Repayment Options</li>
                                <li>Dedicated Support</li>
                            </ul>
                            <button class="card-button" onclick={homeEligibility}>
                  Home Loan Eligibility
                </button>
                        </div>
                    </div>

                    <!-- Third Card -->
                    <div class="card">


                        <div class="card-content">
                            <h2 class="card-title">
                                Gold Loan
                            </h2>
                            <p class="card-description">
                                Unlock the power of your gold with Elite Bank of India. We offer quick and hassle-free
                                gold
                                loans to meet your financial
                                needs. Whether it's for education, business, or personal expenses, our transparent
                                process and
                                low interest rates ensure
                                you get the best value for your gold. </p>
                            <ul class="card-list">
                                <li>Low Interest Rates</li>
                                <li>Quick Disbursement</li>
                                <li>Flexible Repayment Options</li>
                            </ul>
                            <button class="card-button" onclick={goldEligibility}>
                    Gold Loan Eligibility
                </button>
                        </div>
                    </div>
                </div>



            </div>
        </div>
    </template>

    <template if:true={showEligibility1PersonalLoan}>
        <div class="slds-grid slds-gutters">

            <div class="slds-col">
                <div style="max-widhth: 674px">
                    <lightning-card>
                        <div class="slds-grid slds-gutters slds-align_absolute-center slds-p-around_medium">
                            <!-- Back Button -->
                            <div class="slds-col slds-shrink-none">
                                <lightning-button-icon icon-name="utility:back" alternative-text="Go Back"
                                    onclick={handleBackClickMain} variant="bare" class="custom-back-icon">
                                </lightning-button-icon>
                            </div>

                            <!-- Title -->
                            <div class="slds-col slds-align_absolute-center">
                                <p class="slds-text-heading_medium slds-text-align_center" style="margin-left: -469px;">
                                    Personal Loan Eligibility</p>
                            </div>
                        </div>

                        <div class="slds-p-around_medium">

                            <div class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_6-of-12"
                                style="padding-right:2%; position: relative;">
                                <!-- New Account Search Input -->
                                <lightning-input label="Account Number" type="search" value={searchKey}
                                    onchange={handleSearchTermChange} placeholder="Search Account" data-id="searchKey"
                                    required>
                                </lightning-input>

                                <!-- Search Results Dropdown -->
                                <template if:true={accounts}>
                                    <ul class="slds-listbox slds-listbox_vertical dropdown" role="listbox"
                                        aria-label="Suggested for you">
                                        <template for:each={accounts} for:item="account">
                                            <li key={account.Id} class="slds-listbox__item" role="presentation"
                                                data-id={account.Id} onclick={handleAccountSelect}>
                                                <div class="slds-media slds-listbox__option slds-listbox__option_plain"
                                                    role="option">
                                                    <span class="slds-media__body">
                                                        <span class="slds-listbox__option-text slds-listbox__option-text_entity">
                                                            {account.Name}
                                                        </span>
                                                    </span>
                                                </div>
                                            </li>
                                        </template>
                                    </ul>
                                </template>
                            </div>


                            <!-- </div> -->
                            <lightning-input type="number" label="Loan Amount" value={loanAmount}
                                onchange={handleLoanAmountChange}>
                            </lightning-input>

                            <div class="slds-grid slds-m-top_medium">
                                <!-- Left Button -->
                                <div class="slds-col slds-align_absolute-center">
                                    <lightning-button label="Check Eligibility" onclick={checkEligibility}
                                        variant="brand">
                                    </lightning-button>
                                </div>


                                <div class="slds-col slds-grow"></div>

                                <!-- Right Button -->
                                <div class="slds-col slds-align_absolute-center">
                                    <lightning-button label="Apply for Loan" onclick={handlePersonalLoan}
                                        variant="brand" disabled={disableApplyButton}>
                                    </lightning-button>
                                </div>
                            </div>
                        </div>

                        <!-- Error Message -->
                        <template if:true={errorMessage}>
                            <div class="slds-text-color_error slds-m-top_medium">{errorMessage}</div>
                        </template>

                        <!-- Customer Details -->
                        <template if:true={customerDetails}>
                            <div class="slds-m-top_medium">
                                <p><strong>Annual Income:</strong> {customerDetails.annualIncome}</p>
                                <p><strong>Interest Rate:</strong> {customerDetails.interestRate}%</p>
                                <p><strong>Eligibility:</strong> {customerDetails.eligibilityMessage}</p>
                            </div>
                        </template>

                    </lightning-card>
                </div>
            </div>
            <div class="slds-col">
                <div class="calculator-container">
                    <lightning-card title="Interactive Personal Loan EMI Calculator" icon-name="action:money">
                        <div class="slds-p-around_medium">
                            <!-- Loan Amount -->
                            <div class="slds-grid slds-m-bottom_medium slider-section">
                                <div class="slds-col slds-size_1-of-2">
                                    <label class="slider-label">Loan Amount (₹)</label>
                                    <lightning-slider min="50000" max="4000000" step="1000" value={loanAmount}
                                        onchange={handleSliderChange} data-id="loanAmount" class="slider">
                                    </lightning-slider>
                                    <span class="slider-range">50K - 40L</span>
                                </div>
                                <div class="slds-col slds-align_absolute-center">
                                    <lightning-input type="number" value={loanAmount} onchange={handleInputChange}
                                        data-id="loanAmount" label="Enter Amount">
                                    </lightning-input>
                                </div>
                            </div>

                            <!-- Loan Tenure -->
                            <div class="slds-grid slds-m-bottom_medium slider-section">
                                <div class="slds-col slds-size_1-of-2">
                                    <label class="slider-label">Tenure (months)</label>
                                    <lightning-slider min="12" max="84" step="1" value={tenure}
                                        onchange={handleSliderChange} data-id="tenure" class="slider">
                                    </lightning-slider>
                                    <span class="slider-range">12 - 84 months</span>
                                </div>
                                <div class="slds-col slds-align_absolute-center">
                                    <lightning-input type="number" value={tenure} onchange={handleInputChange}
                                        data-id="tenure" label="Enter Tenure">
                                    </lightning-input>
                                </div>
                            </div>

                            <!-- Interest Rate -->
                            <div class="slds-grid slds-m-bottom_medium slider-section">
                                <div class="slds-col slds-size_1-of-2">
                                    <label class="slider-label">Interest Rate (%)</label>
                                    <lightning-slider min="11" max="22" step="0.1" value={interestRate}
                                        onchange={handleSliderChange} data-id="interestRate" class="slider">
                                    </lightning-slider>
                                    <span class="slider-range">11% - 22%</span>
                                </div>
                                <div class="slds-col slds-align_absolute-center">
                                    <lightning-input type="number" value={interestRate} onchange={handleInputChange}
                                        data-id="interestRate" label="Enter Rate">
                                    </lightning-input>
                                </div>
                            </div>

                            <!-- EMI Result -->
                            <div class="emi-result">
                                <h3>
                                    Equated Monthly Installment (EMI): <span class="emi-value">₹ {emi}</span>
                                </h3>
                            </div>



                        </div>
                    </lightning-card>
                </div>
            </div>

        </div>
        <div class="features-container">
            <div class="feature-item">
                <div class="icon">
                    <lightning-icon icon-name="utility:moneybag" alternative-text="No Collateral Required"
                        class="blue-utility-icon"></lightning-icon>
                </div>
                <p class="title">No Collateral Required</p>
            </div>
            <div class="feature-item">
                <div class="icon">
                    <lightning-icon icon-name="utility:desktop" alternative-text="Simple, Easy Online Process"
                        class="blue-utility-icon"></lightning-icon>
                </div>
                <p class="title">Simple, Easy Online Process</p>
            </div>
            <div class="feature-item">
                <div class="icon">
                    <lightning-icon icon-name="utility:money" alternative-text="Low Interest Rates"
                        class="blue-utility-icon"></lightning-icon>
                </div>
                <p class="title">Low Interest Rates</p>
            </div>
            <div class="feature-item">
                <div class="icon">
                    <lightning-icon icon-name="utility:contract" alternative-text="Transparent Terms"
                        class="blue-utility-icon"></lightning-icon>
                </div>
                <p class="title">Transparent Terms</p>
            </div>
            <div class="feature-item">
                <div class="icon">
                    <lightning-icon icon-name="utility:event" alternative-text="Flexible Tenure"
                        class="blue-utility-icon"></lightning-icon>
                </div>
                <p class="title">Flexible Tenure</p>
            </div>
        </div>
    </template>

    <template if:true={showEligibilityHomeLoan}>

        <div class="slds-grid slds-gutters">
            <div class="slds-col">


                <lightning-card>
                    <div class="slds-grid slds-gutters slds-align_absolute-center slds-p-around_medium">
                        <!-- Back Button -->
                        <div class="slds-col slds-shrink-none">
                            <lightning-button-icon icon-name="utility:back" alternative-text="Go Back"
                                onclick={handleBackClickMainHome} variant="bare" class="custom-back-icon">
                            </lightning-button-icon>
                        </div>

                        <!-- Title -->
                        <div class="slds-col slds-align_absolute-center">
                            <p class="slds-text-heading_medium slds-text-align_center" style="margin-left: -469px;">Home
                                Loan Eligibility</p>
                        </div>
                    </div>
                    <div class="slds-p-around_medium">
                        <!-- Input Fields -->
                        <!-- <div class="slds-p-around_medium" style="padding-right:2%"> -->
                        <div class="slds-grid slds-wrap slds-gutters">
                            <div class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_6-of-12"
                                style="padding-right:2%; position: relative;">

                                <lightning-input type="search" label="Account Number" value={searchKey}
                                    onchange={handleSearchTermChange}>
                                </lightning-input>
                                <!-- Search Results -->
                                <template if:true={accounts}>
                                    <ul class="slds-listbox slds-listbox_vertical dropdown" role="listbox"
                                        aria-label="Suggested for you">
                                        <template for:each={accounts} for:item="account">
                                            <li key={account.Id} class="slds-listbox__item" role="presentation"
                                                data-id={account.Id} onclick={handleAccountSelect}>
                                                <div class="slds-media slds-listbox__option slds-listbox__option_plain"
                                                    role="option">
                                                    <span class="slds-media__body">
                                                                            <span class="slds-listbox__option-text slds-listbox__option-text_entity">
                                                                                {account.Name}
                                                                            </span>
                                                    </span>
                                                </div>
                                            </li>
                                        </template>
                                    </ul>
                                </template>
                            </div>
                        </div>
                        <lightning-input type="number" label="Loan Amount" value={loanAmount}
                            onchange={handleLoanAmountChange}>
                        </lightning-input>

                        <div class="slds-grid slds-m-top_medium">
                            <!-- Left Button -->
                            <div class="slds-col slds-align_absolute-center">
                                <lightning-button label="Check Eligibility" onclick={checkEligibility} variant="brand">
                                </lightning-button>
                            </div>


                            <div class="slds-col slds-grow"></div>

                            <!-- Right Button -->
                            <div class="slds-col slds-align_absolute-center">
                                <lightning-button label="Apply for Loan" onclick={openHomeloan} variant="brand"
                                    disabled={disableApplyButton}>
                                </lightning-button>
                            </div>
                        </div>
                    </div>
                    <!-- </div> -->

                    <!-- Error Message -->
                    <template if:true={errorMessage}>
                        <div class="slds-text-color_error slds-m-top_medium">{errorMessage}</div>
                    </template>

                    <!-- Customer Details -->
                    <template if:true={customerDetails}>
                        <div class="slds-m-top_medium">
                            <p><strong>Annual Income:</strong> {customerDetails.annualIncome}</p>
                            <p><strong>Interest Rate:</strong> {customerDetails.interestRate}%</p>
                            <p><strong>Eligibility:</strong> {customerDetails.eligibilityMessage}</p>
                        </div>
                    </template>
                </lightning-card>
            </div>
            <div class="slds-col">
                <div class="calculator-container">
                    <lightning-card title="Interactive Home Loan EMI Calculator" icon-name="action:money">
                        <div class="slds-p-around_medium">
                            <!-- Loan Amount -->
                            <div class="slds-grid slds-m-bottom_medium slider-section">
                                <div class="slds-col slds-size_1-of-2">
                                    <label class="slider-label">Loan Amount (₹)</label>
                                    <lightning-slider min="50000" max="4000000" step="1000" value={loanAmount}
                                        onchange={handleSliderChange} data-id="loanAmount" class="slider">
                                    </lightning-slider>
                                    <span class="slider-range">50K - 40L</span>
                                </div>
                                <div class="slds-col slds-align_absolute-center">
                                    <lightning-input type="number" value={loanAmount} onchange={handleInputChange}
                                        data-id="loanAmount" label="Enter Amount">
                                    </lightning-input>
                                </div>
                            </div>

                            <!-- Loan Tenure -->
                            <div class="slds-grid slds-m-bottom_medium slider-section">
                                <div class="slds-col slds-size_1-of-2">
                                    <label class="slider-label">Tenure (months)</label>
                                    <lightning-slider min="12" max="84" step="1" value={tenure}
                                        onchange={handleSliderChange} data-id="tenure" class="slider">
                                    </lightning-slider>
                                    <span class="slider-range">12 - 84 months</span>
                                </div>
                                <div class="slds-col slds-align_absolute-center">
                                    <lightning-input type="number" value={tenure} onchange={handleInputChange}
                                        data-id="tenure" label="Enter Tenure">
                                    </lightning-input>
                                </div>
                            </div>

                            <!-- Interest Rate -->
                            <div class="slds-grid slds-m-bottom_medium slider-section">
                                <div class="slds-col slds-size_1-of-2">
                                    <label class="slider-label">Interest Rate (%)</label>
                                    <lightning-slider min="11" max="22" step="0.1" value={interestRate}
                                        onchange={handleSliderChange} data-id="interestRate" class="slider">
                                    </lightning-slider>
                                    <span class="slider-range">11% - 22%</span>
                                </div>
                                <div class="slds-col slds-align_absolute-center">
                                    <lightning-input type="number" value={interestRate} onchange={handleInputChange}
                                        data-id="interestRate" label="Enter Rate">
                                    </lightning-input>
                                </div>
                            </div>

                            <!-- EMI Result -->
                            <div class="emi-result">
                                <h3>
                                    Equated Monthly Installment (EMI): <span class="emi-value">₹ {emi}</span>
                                </h3>
                            </div>

                            <!-- Submit Button -->

                        </div>
                    </lightning-card>
                </div>
            </div>
        </div>
    </template>

    <template if:true={showEligibilityGoldLoan}>

        <div class="slds-grid slds-gutters">
            <div class="slds-col">


                <lightning-card>
                    <div class="slds-grid slds-gutters slds-align_absolute-center slds-p-around_medium">
                        <!-- Back Button -->
                        <div class="slds-col slds-shrink-none">
                            <lightning-button-icon icon-name="utility:back" alternative-text="Go Back"
                                onclick={handleBackClickMainGold} variant="bare" class="custom-back-icon">
                            </lightning-button-icon>
                        </div>

                        <!-- Title -->
                        <div class="slds-col slds-align_absolute-center">
                            <p class="slds-text-heading_medium slds-text-align_center" style="margin-left: -469px;">Gold
                                Loan Eligibility</p>
                        </div>
                    </div>
                    <div class="slds-p-around_medium">
                        <div class="slds-grid slds-wrap slds-gutters">
                            <div class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12 slds-large-size_6-of-12"
                                style="padding-right:2%; position: relative;">

                                <!-- Input Fields -->
                                <!-- <div class="slds-p-around_medium" style="padding-right:2%"> -->
                                <lightning-input type="search" label="Account Number" value={searchKey}
                                    onchange={handleSearchTermChange}>
                                </lightning-input>
                                <!-- Search Results -->
                                <template if:true={accounts}>
                                    <ul class="slds-listbox slds-listbox_vertical dropdown" role="listbox"
                                        aria-label="Suggested for you">
                                        <template for:each={accounts} for:item="account">
                                            <li key={account.Id} class="slds-listbox__item" role="presentation"
                                                data-id={account.Id} onclick={handleAccountSelect}>
                                                <div class="slds-media slds-listbox__option slds-listbox__option_plain"
                                                    role="option">
                                                    <span class="slds-media__body">
                                                                            <span class="slds-listbox__option-text slds-listbox__option-text_entity">
                                                                                {account.Name}
                                                                            </span>
                                                    </span>
                                                </div>
                                            </li>
                                        </template>
                                    </ul>
                                </template>
                            </div>
                        </div>
                        <lightning-input type="number" label="Loan Amount" value={loanAmount}
                            onchange={handleLoanAmountChange}>
                        </lightning-input>

                        <div class="slds-grid slds-m-top_medium">
                            <!-- Left Button -->
                            <div class="slds-col slds-align_absolute-center">
                                <lightning-button label="Check Eligibility" onclick={checkEligibility} variant="brand">
                                </lightning-button>
                            </div>


                            <div class="slds-col slds-grow"></div>

                            <!-- Right Button -->
                            <div class="slds-col slds-align_absolute-center">
                                <lightning-button label="Apply for Gold Loan" onclick={openGoldLoanForm} variant="brand"
                                    disabled={disableApplyButton}>
                                </lightning-button>
                            </div>
                        </div>
                    </div>

                    <!-- Error Message -->
                    <template if:true={errorMessage}>
                        <div class="slds-text-color_error slds-m-top_medium">{errorMessage}</div>
                    </template>

                    <!-- Customer Details -->
                    <template if:true={customerDetails}>
                        <div class="slds-m-top_medium">
                            <p><strong>Annual Income:</strong> {customerDetails.annualIncome}</p>
                            <p><strong>Interest Rate:</strong> {customerDetails.interestRate}%</p>
                            <p><strong>Eligibility:</strong> {customerDetails.eligibilityMessage}</p>
                        </div>
                    </template>
                </lightning-card>
            </div>
            <div class="slds-col">
                <div class="calculator-container">
                    <lightning-card title="Interactive Gold Loan EMI Calculator" icon-name="action:money">
                        <div class="slds-p-around_medium">
                            <!-- Loan Amount -->
                            <div class="slds-grid slds-m-bottom_medium slider-section">
                                <div class="slds-col slds-size_1-of-2">
                                    <label class="slider-label">Loan Amount (₹)</label>
                                    <lightning-slider min="50000" max="4000000" step="1000" value={loanAmount}
                                        onchange={handleSliderChange} data-id="loanAmount" class="slider">
                                    </lightning-slider>
                                    <span class="slider-range">50K - 40L</span>
                                </div>
                                <div class="slds-col slds-align_absolute-center">
                                    <lightning-input type="number" value={loanAmount} onchange={handleInputChange}
                                        data-id="loanAmount" label="Enter Amount">
                                    </lightning-input>
                                </div>
                            </div>

                            <!-- Loan Tenure -->
                            <div class="slds-grid slds-m-bottom_medium slider-section">
                                <div class="slds-col slds-size_1-of-2">
                                    <label class="slider-label">Tenure (months)</label>
                                    <lightning-slider min="12" max="84" step="1" value={tenure}
                                        onchange={handleSliderChange} data-id="tenure" class="slider">
                                    </lightning-slider>
                                    <span class="slider-range">12 - 84 months</span>
                                </div>
                                <div class="slds-col slds-align_absolute-center">
                                    <lightning-input type="number" value={tenure} onchange={handleInputChange}
                                        data-id="tenure" label="Enter Tenure">
                                    </lightning-input>
                                </div>
                            </div>

                            <!-- Interest Rate -->
                            <div class="slds-grid slds-m-bottom_medium slider-section">
                                <div class="slds-col slds-size_1-of-2">
                                    <label class="slider-label">Interest Rate (%)</label>
                                    <lightning-slider min="11" max="22" step="0.1" value={interestRate}
                                        onchange={handleSliderChange} data-id="interestRate" class="slider">
                                    </lightning-slider>
                                    <span class="slider-range">11% - 22%</span>
                                </div>
                                <div class="slds-col slds-align_absolute-center">
                                    <lightning-input type="number" value={interestRate} onchange={handleInputChange}
                                        data-id="interestRate" label="Enter Rate">
                                    </lightning-input>
                                </div>
                            </div>

                            <!-- EMI Result -->
                            <div class="emi-result">
                                <h3>
                                    Equated Monthly Installment (EMI): <span class="emi-value">₹ {emi}</span>
                                </h3>
                            </div>

                            <!-- Submit Button -->

                        </div>
                    </lightning-card>
                </div>
            </div>
        </div>
    </template>
    <!-- personal loan form -->
    <template if:true={handlePersonalLoanOpen}>
        <template if:true={handlePersonalLoan}>
            <div class="slds-p-around_medium">

                <!-- Lightning Card for Loan Application Form -->
                <lightning-card title="Loan Application Form" icon-name="standard:form">
                    <p class="slds-text-body_regular slds-p-horizontal_small">
                        Fill out the details to apply for a personal loan.
                    </p>
                    <div class="slds-p-around_medium">
                        <div class="slds-grid slds-wrap slds-gutters">

                            <!-- New Account Search -->
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-input label="New Account" type="search" value={searchKey}
                                    onchange={handleSearchTermChange} placeholder="Search New Account..."
                                    data-id="searchKey" required>
                                </lightning-input>

                                <template if:true={accounts}>
                                    <ul class="slds-listbox slds-listbox_vertical dropdown" role="listbox"
                                        aria-label="Suggested for you">
                                        <template for:each={accounts} for:item="account">
                                            <li key={account.Id} class="slds-listbox__item" role="presentation"
                                                data-id={account.Id} onclick={handleAccountSelect}>
                                                <div class="slds-media slds-listbox__option slds-listbox__option_plain"
                                                    role="option">
                                                    <span class="slds-media__body">
                                            <span class="slds-listbox__option-text slds-listbox__option-text_entity">
                                                {account.Name}
                                            </span>
                                                    </span>
                                                </div>
                                            </li>
                                        </template>
                                    </ul>
                                </template>
                            </div>

                            <!-- Personal Information Section -->
                            <div class="slds-col slds-size_1-of-1 slds-p-vertical_small">
                                <h3 class="slds-text-heading_small slds-border_bottom slds-p-bottom_small">Personal
                                    Information</h3>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-input label="Customer Full Name" type="text" value={borrowerName}
                                    onchange={handleInputChangees} data-id="borrowerName" required>
                                </lightning-input>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-input label="Email Address" type="email" value={emailaddress}
                                    onchange={handleInputChangees} data-id="emailaddress">
                                </lightning-input>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-input label="Date Of Birth" type="date" value={dob}
                                    onchange={handleInputChangees} data-id="dob" required>
                                </lightning-input>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-input label="Nationality" type="text" value={nationality}
                                    onchange={handleInputChangees} data-id="nationality">
                                </lightning-input>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-input label="Permanent Address" type="Text" value={address}
                                    onchange={handleInputChangees} data-id="address" required>
                                </lightning-input>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-combobox label="Marital Status" options={maritalStatusOptions1}
                                    value={maritail} onchange={handleInputChangees} data-id="maritail" required>
                                </lightning-combobox>
                            </div>

                            <!-- Occupation and Employment Section -->
                            <div class="slds-col slds-size_1-of-1 slds-p-vertical_small">
                                <h3 class="slds-text-heading_small slds-border_bottom slds-p-bottom_small">
                                    Occupation and Employment
                                </h3>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-combobox label="Occupation" options={occupationOptions} value={occupation}
                                    onchange={handleInputChangees} data-id="occupation" required>
                                </lightning-combobox>
                            </div>

                            <!-- Loan Details Section -->
                            <div class="slds-col slds-size_1-of-1 slds-p-vertical_small">
                                <h3 class="slds-text-heading_small slds-border_bottom slds-p-bottom_small">Loan Details
                                </h3>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-input label="Loan Amount Required" type="number" value={loanAmount} disabled>
                                </lightning-input>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-p-around_small">
                                <lightning-radio-group label="Loan Purpose" options={loanPurposeOptions}
                                    value={loanpurpose} onchange={handleInputChangees} data-id="loanpurpose">
                                </lightning-radio-group>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-input label="Loan Tenure" type="number" value={loantenure}
                                    onchange={handleInputChangees} data-id="loantenure" placeholder="(in months)">
                                </lightning-input>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-input label="Annual Income" type="number" value={income}
                                    onchange={handleInputChangees} data-id="income" required>
                                </lightning-input>
                            </div>
                            <!-- File Upload Section -->
                            <div class="slds-col slds-size_1-of-1 slds-p-vertical_small">
                                <h3 class="slds-text-heading_small slds-border_bottom slds-p-bottom_small">Document
                                    Upload</h3>
                            </div>

                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-file-upload label="Aadhaar Card" accept=".pdf,.png,.jpg"
                                    record-id={accountIdPassing} onuploadfinished={handleFileUpload}
                                    data-type="aadhaar">
                                </lightning-file-upload>
                                <template if:true={aadhaarFileName}>
                                    <p><strong>Uploaded File:</strong> {aadhaarFileName}</p>
                                </template>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-file-upload label="PAN Card" accept=".pdf,.png,.jpg"
                                    record-id={accountIdPassing} onuploadfinished={handleFileUpload} data-type="pan">
                                </lightning-file-upload>
                                <template if:true={panFileName}>
                                    <p><strong>Uploaded File:</strong> {panFileName}</p>
                                </template>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-file-upload label="Driving License" accept=".pdf,.png,.jpg"
                                    record-id={accountIdPassing} onuploadfinished={handleFileUpload}
                                    data-type="drivingLicense">
                                </lightning-file-upload>
                                <template if:true={drivingLicenseFileName}>
                                    <p><strong>Uploaded File:</strong> {drivingLicenseFileName}</p>
                                </template>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-file-upload label="Salary Slip" accept=".pdf,.png,.jpg"
                                    record-id={accountIdPassing} onuploadfinished={handleFileUpload}
                                    data-type="salarySlip">
                                </lightning-file-upload>
                                <template if:true={salarySlipFileName}>
                                    <p><strong>Uploaded File:</strong> {salarySlipFileName}</p>
                                </template>
                            </div>
                            <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_small">
                                <lightning-file-upload label="Bank Statement" accept=".pdf,.png,.jpg"
                                    record-id={accountIdPassing} onuploadfinished={handleFileUpload}
                                    data-type="bankStatement">
                                </lightning-file-upload>
                                <template if:true={bankStatementFileName}>
                                    <p><strong>Uploaded File:</strong> {bankStatementFileName}</p>
                                </template>
                            </div>


                            <!-- Submit Buttons -->
                            <div class="slds-col slds-size_1-of-1 slds-grid slds-grid_align-space slds-p-around_medium">
                                <lightning-button label="Back" variant="neutral" onclick={handleformBackClick}>
                                </lightning-button>
                                <lightning-button label="Next" variant="brand" onclick={handlereviewinfo}>
                                </lightning-button>
                            </div>
                        </div>
                    </div>
                </lightning-card>
            </div>
        </template>
    </template>
    <!-- home loan form -->
    <template if:true={openHomeLoanFormOpen}>
        <template if:true={openHomeloan}>
            <lightning-card title="Home Loan Application Form" icon-name="standard:form">
                <p class="slds-text-body_regular slds-p-horizontal_medium">
                    Fill out the details to apply for a home loan.
                </p>
                <div class="slds-p-around_medium">
                    <div class="slds-grid slds-wrap slds-gutters">

                        <!-- New Account Search -->
                        <div class="slds-col slds-small-size_12-of-12 slds-medium-size_6-of-12">
                            <lightning-input label="New Account" type="search" value={searchKey}
                                onchange={handleSearchTermChange} placeholder="Search New Account..."
                                data-id="searchKey" required>
                            </lightning-input>

                            <!-- Search Results Dropdown -->
                            <template if:true={accounts}>
                                <ul class="slds-listbox slds-listbox_vertical slds-dropdown slds-dropdown_fluid"
                                    role="listbox" aria-label="Suggested for you">
                                    <template for:each={accounts} for:item="account">
                                        <li key={account.Id} class="slds-listbox__item" role="presentation"
                                            data-id={account.Id} onclick={handleAccountSelect}>
                                            <div class="slds-media slds-listbox__option slds-listbox__option_plain"
                                                role="option">
                                                <span class="slds-media__body">
                                                <span class="slds-listbox__option-text slds-listbox__option-text_entity">
                                                    {account.Name}
                                                </span>
                                                </span>
                                            </div>
                                        </li>
                                    </template>
                                </ul>
                            </template>
                        </div>

                        <!-- Personal Information Section -->
                        <div class="slds-col slds-size_1-of-1 slds-p-vertical_medium">
                            <h3 class="slds-text-heading_medium">Personal Information</h3>
                        </div>

                        <!-- Form Fields -->
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-input label="Customer Full Name" type="text" value={borrowerName}
                                onchange={handleInputChangees} data-id="borrowerName" required></lightning-input>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-input label="Email Address" type="email" value={emailaddress}
                                onchange={handleInputChangees} data-id="emailaddress"></lightning-input>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-input label="Phone Number" type="text" value={phoneNumber}
                                onchange={handleInputChangees} data-id="phoneNumber"></lightning-input>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-input label="Date Of Birth" type="date" value={dob}
                                onchange={handleInputChangees} data-id="dob" required></lightning-input>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-input label="Nationality" type="text" value={nationality}
                                onchange={handleInputChangees} data-id="nationality"></lightning-input>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-input label="Permanent Address" type="text" value={address}
                                onchange={handleInputChangees} data-id="address" required></lightning-input>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-combobox label="Marital Status" options={maritalStatusOptions1} value={maritail}
                                onchange={handleInputChangees} data-id="maritail" required></lightning-combobox>
                        </div>

                        <!-- Occupation -->
                        <div class="slds-col slds-size_1-of-1 slds-p-vertical_medium">
                            <h3 class="slds-text-heading_medium">Occupation and Employment</h3>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-combobox label="Occupation" options={occupationOptions} value={occupation}
                                onchange={handleInputChangees} data-id="occupation" required></lightning-combobox>
                        </div>

                        <!-- Identity and Address Proof -->
                        <div class="slds-col slds-size_1-of-1 slds-p-vertical_medium">
                            <h3 class="slds-text-heading_medium">Identity and Address Proof</h3>
                        </div>
                        <!-- <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-checkbox-group label="Select Identity and Address Proof" name="idProofs"
                                options={idProofOptions} value={selectedIdProofs} onchange={handleIdProofChange}>
                            </lightning-checkbox-group>
                        </div> -->

                        <!-- Loan Details -->
                        <div class="slds-col slds-size_1-of-1 slds-p-vertical_medium">
                            <h3 class="slds-text-heading_medium">Loan Details</h3>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-input label="Loan Amount Required" type="number" value={loanAmount} disabled>
                            </lightning-input>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-input label="Loan Tenure (in months)" type="number" value={loantenure}
                                onchange={handleInputChangees} data-id="loantenure"></lightning-input>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-input label="Annual Income" type="number" value={income}
                                onchange={handleInputChangees} data-id="income" required></lightning-input>
                        </div>

                        <!-- Property Details -->
                        <div class="slds-col slds-size_1-of-1 slds-p-vertical_medium">
                            <h3 class="slds-text-heading_medium">Property Details</h3>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-input label="Property Address" type="text" value={propertyAddress}
                                onchange={handleInputChangees} data-id="propertyAddress" required></lightning-input>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-combobox label="Type of Property" options={propertyTypeOptions}
                                value={propertyType} onchange={handleInputChangees} data-id="propertyType" required>
                            </lightning-combobox>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-input label="Estimated Property Value" type="number" value={propertyValue}
                                onchange={handleInputChangees} data-id="propertyValue" required></lightning-input>
                        </div>
                        <div class="slds-col slds-medium-size_6-of-12">
                            <lightning-input label="Builder/Developer Name" type="text" value={builderName}
                                onchange={handleInputChangees} data-id="builderName"></lightning-input>
                        </div>

                        <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-horizontal_small">
                            <lightning-combobox label="Stage of Property" options={propertyStageOptions}
                                value={propertyStage} onchange={handleInputChangees} data-id="propertyStage"
                                placeholder="Select Property Stage" required>
                            </lightning-combobox>
                        </div>

                        <!-- Property Ownership (Picklist) -->
                        <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-horizontal_small">
                            <lightning-combobox label="Property Ownership" options={ownershipOptions}
                                value={propertyOwnership} onchange={handleInputChangees} data-id="propertyOwnership"
                                placeholder="Select Ownership" required>
                            </lightning-combobox>
                        </div>

                        <!-- Buttons -->
                        <div class="slds-col slds-size_1-of-1 slds-grid slds-align_absolute-center slds-p-top_medium">
                            <lightning-button label="Back" variant="neutral" onclick={handleformBackClick}>
                            </lightning-button>
                            <lightning-button label="Next" variant="brand" class="slds-m-left_small"
                                onclick={handlereviewinfohome}></lightning-button>
                        </div>
                    </div>
                </div>
            </lightning-card>
        </template>
    </template>
    <!-- gold loan form -->
    <template if:true={openGoldLoanFormOpen}>
        <lightning-card title="Gold Loan Application Form" icon-name="standard:form">
            <p class="slds-text-heading_medium slds-m-around_medium">

                Fill out the details to apply for a gold loan.
            </p>
            <div class="slds-p-around_medium">
                <div class="slds-grid slds-wrap slds-gutters">
                    <!-- Account Search -->
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12">
                        <lightning-input label="New Account" type="search" value={searchKey}
                            onchange={handleSearchTermChange} placeholder="Search New Account..." data-id="searchKey"
                            required>
                        </lightning-input>

                        <template if:true={accounts}>
                            <ul class="slds-listbox slds-listbox_vertical slds-var-m-top_small" role="listbox"
                                aria-label="Suggested for you">
                                <template for:each={accounts} for:item="account">
                                    <li key={account.Id} class="slds-listbox__item" role="presentation"
                                        data-id={account.Id} onclick={handleAccountSelect}>
                                        <div class="slds-media slds-listbox__option slds-listbox__option_plain"
                                            role="option">
                                            <span class="slds-media__body">
                                            <span class="slds-listbox__option-text slds-listbox__option-text_entity">
                                                {account.Name}
                                            </span>
                                            </span>
                                        </div>
                                    </li>
                                </template>
                            </ul>
                        </template>
                    </div>

                    <!-- Personal Information Section -->
                    <div class="slds-col slds-size_12-of-12">
                        <h3 class="slds-text-heading_small slds-m-top_medium">Personal Information</h3>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-input label="Customer Full Name" type="text" value={borrowerName}
                            onchange={handleInputChangees} data-id="borrowerName" required>
                        </lightning-input>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-input label="Email Address" type="email" value={emailaddress}
                            onchange={handleInputChangees} data-id="emailaddress">
                        </lightning-input>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-input label="Phone Number" type="text" value={phoneNumber}
                            onchange={handleInputChangees} data-id="phoneNumber">
                        </lightning-input>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-input label="Date Of Birth" type="date" value={dob} onchange={handleInputChangees}
                            data-id="dob" required>
                        </lightning-input>
                    </div>

                    <!-- More Personal Details -->
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-input label="Nationality" type="text" value={nationality}
                            onchange={handleInputChangees} data-id="nationality">
                        </lightning-input>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-input label="Permanent Address" type="Text" value={address}
                            onchange={handleInputChangees} data-id="address" required>
                        </lightning-input>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-p-horizontal_small">
                        <lightning-radio-group label="Marital Status" options={maritalStatusOptions1} value={maritail}
                            onchange={handleInputChangees} data-id="maritail">
                        </lightning-radio-group>
                    </div>

                    <!-- Occupation and Employment Section -->
                    <div class="slds-col slds-size_12-of-12">
                        <h3 class="slds-text-heading_small slds-m-top_medium">Occupation and Employment</h3>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-combobox label="Occupation" options={occupationOptions} value={occupation}
                            onchange={handleInputChangees} data-id="occupation">
                        </lightning-combobox>
                    </div>

                    <!-- Loan Details Section -->
                    <div class="slds-col slds-size_12-of-12">
                        <h3 class="slds-text-heading_small slds-m-top_medium">Loan Details</h3>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-input label="Loan Amount Required" type="number" value={loanAmount} disabled>
                        </lightning-input>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-radio-group label="Loan Purpose" options={loanPurposeOptions} value={loanpurpose}
                            onchange={handleInputChangees} data-id="loanpurpose">
                        </lightning-radio-group>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-input label="Loan Tenure" type="number" value={loantenure}
                            onchange={handleInputChangees} data-id="loantenure" placeholder="(in months)">
                        </lightning-input>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-input label="Annual Income" type="number" value={income}
                            onchange={handleInputChangees} data-id="income" required>
                        </lightning-input>
                    </div>

                    <!-- Gold Details Section -->
                    <div class="slds-col slds-size_12-of-12">
                        <h3 class="slds-text-heading_small slds-m-top_medium">Gold Details</h3>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-input label="Weight of Gold (in grams)" type="text" value={goldWeight}
                            onchange={handleInputChangees} data-id="goldWeight" required>
                        </lightning-input>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-combobox label="Type of Gold" options={goldTypeOptions} value={goldType}
                            onchange={handleInputChangees} data-id="goldType" required>
                        </lightning-combobox>
                    </div>
                    <div class="slds-col slds-size_12-of-12 slds-medium-size_6-of-12 slds-p-horizontal_small">
                        <lightning-combobox label="Purity of Gold" value={goldPurity} placeholder="Select Purity"
                            options={goldPurityOptions} onchange={handleInputChangees} data-id="goldPurity" required>
                        </lightning-combobox>
                    </div>

                </div>

                <!-- Navigation Buttons -->
                <div class="slds-grid slds-wrap slds-gutters slds-m-top_medium">
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-button label="Back" variant="neutral" onclick={handleformBackClickGold}>
                        </lightning-button>
                    </div>
                    <div class="slds-col slds-size_1-of-2 slds-text-align_right">
                        <lightning-button label="Next" variant="brand" onclick={handlereviewinfogold}>
                        </lightning-button>
                    </div>
                </div>
            </div>
        </lightning-card>
    </template>


    <!-- review info for personal loan -->
    <template if:true={reviewinfo}>
        <lightning-card class="slds-m-around_medium">
            <h3 style="font-size: 16px;padding: 1%;">
                <!-- <lightning-icon icon-name='utility:shift_pattern_entry' alternative-text='shift_pattern_entry' size='small' title='shift_pattern_entry'></lightning-icon> -->
                <b style="padding-left: 10px;">Review Loan Application Information</b>
            </h3>

            <div class="slds-p-around_medium">
                <!-- Account Information Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Account
                    Information</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>New Account: </strong>{searchKey}</p>
                        </div>
                    </div>
                </div>

                <!-- Loan Details Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Loan Details</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Loan Amount: </strong>{loanamount}</p>
                            <p><strong>Loan Term (Months): </strong>{loantenure}</p>
                            <p><strong>Loan Purpose: </strong>{loanpurpose}</p>
                        </div>
                    </div>
                </div>

                <!-- Personal Information Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Personal
                    Information</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Borrower's Name: </strong>{borrowerName}</p>
                            <p><strong>Email Address: </strong>{emailaddress}</p>
                            <p><strong>Phone Number: </strong>{phoneNumber}</p>
                            <p><strong>Date of Birth: </strong>{dob}</p>
                        </div>
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Nationality: </strong>{nationality}</p>
                            <p><strong>Marital Status: </strong>{maritail}</p>
                        </div>
                    </div>
                </div>

                <!-- Employment and Income Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Employment and
                    Income</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Occupation: </strong>{occupation}</p>
                            <p><strong>Annual Income: </strong>{income}</p>
                        </div>
                    </div>
                </div>

                <!-- Residential Address Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Residential
                    Address</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Address: </strong>{address}</p>
                        </div>
                    </div>
                </div>

                <!-- Documents Provided Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Documents Provided
                </h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Documents:</strong></p>
                        </div>
                        <!-- Dynamically List Uploaded Documents -->
                        <template if:true={uploadedDocuments}>
                            <ul>
                                <template for:each={uploadedDocuments} for:item="doc">
                                    <li key={doc.id}>
                                        <span>{doc.label} - {doc.fileName}</span>
                                        <a href={doc.previewUrl} target="_blank"
                                            class="slds-button slds-button_neutral slds-m-left_small">Preview</a>
                                    </li>
                                </template>
                            </ul>
                        </template>
                        <template if:false={uploadedDocuments}>
                            <p>No documents uploaded yet.</p>
                        </template>
                    </div>
                </div>
            </div>
            <div class="slds-grid">
                <div>
                    <span> <lightning-button label="Back" variant="brand" onclick={handleBackToForm}></lightning-button></span>
                </div>
                <div class="slds-col_bump-left">
                    <lightning-button label="Submit Loan Application" variant="brand"
                        onclick={handlePersonalLoanSubmitButtonClick}>
                    </lightning-button>
                </div>

            </div>

        </lightning-card>

    </template>

    <!-- review info for home loan -->
    <template if:true={reviewinfohome}>
        <lightning-card class="slds-m-around_medium">
            <h3 style="font-size: 16px;padding: 1%;">
                <!-- <lightning-icon icon-name='utility:shift_pattern_entry' alternative-text='shift_pattern_entry' size='small' title='shift_pattern_entry'></lightning-icon> -->
                <b style="padding-left: 10px;">Review Home Loan Application Information</b>
            </h3>

            <div class="slds-p-around_medium">
                <!-- Account Information Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Account
                    Information</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>New Account: </strong>{searchKey}</p>
                        </div>
                    </div>
                </div>

                <!-- Loan Details Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Loan Details</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Loan Amount: </strong>{loanamount}</p>
                            <p><strong>Loan Term (Months): </strong>{loantenure}</p>
                            <p><strong>Loan Purpose: </strong>{loanpurpose}</p>
                        </div>
                    </div>
                </div>

                <!-- Personal Information Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Personal
                    Information</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Borrower's Name: </strong>{borrowerName}</p>
                            <p><strong>Email Address: </strong>{emailaddress}</p>
                            <p><strong>Phone Number: </strong>{phoneNumber}</p>
                            <p><strong>Date of Birth: </strong>{dob}</p>
                        </div>
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Nationality: </strong>{nationality}</p>
                            <p><strong>Marital Status: </strong>{maritail}</p>
                        </div>
                    </div>
                </div>

                <!-- Employment and Income Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Employment and
                    Income</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Occupation: </strong>{occupation}</p>
                            <p><strong>Annual Income: </strong>{income}</p>
                        </div>
                    </div>
                </div>

                <!-- Residential Address Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Residential
                    Address</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Address: </strong>{address}</p>
                        </div>
                    </div>
                </div>

                <!-- Documents Provided Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Documents Provided
                </h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Documents: </strong>{selectedIdProofs}</p>
                        </div>
                    </div>
                </div>
            </div>

            <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Property Details</h2>
            <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                <div class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                        <p><strong>Property Address: </strong>{propertyAddress}</p>
                        <p><strong>Type Of Property: </strong>{propertyType}</p>
                        <p><strong>Estimated Property Value: </strong>{propertyValue}</p>
                        <p><strong>Builder Name: </strong>{builderName}</p>
                    </div>
                    <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                        <p><strong>Stage Of Property: </strong>{propertyStage}</p>
                        <p><strong>Property Ownership: </strong>{propertyOwnership}</p>
                    </div>
                </div>
            </div>



            <div class="slds-grid">
                <div>
                    <span>  <lightning-button label="Back" variant="brand" onclick={handleBackToFormHome}></lightning-button></span>
                </div>
                <div class="slds-col_bump-left">
                    <span> <lightning-button label="Submit Loan Application" variant="brand" onclick={handleHomeLoanSubmitButtonClick}></lightning-button>
                    </span>
                </div>

            </div>
        </lightning-card>
    </template>
    <!-- review info for gold loan -->
    <template if:true={reviewinfogold}>
        <lightning-card class="slds-m-around_medium">
            <h3 style="font-size: 16px;padding: 1%;">
                <!-- <lightning-icon icon-name='utility:shift_pattern_entry' alternative-text='shift_pattern_entry' size='small' title='shift_pattern_entry'></lightning-icon> -->
                <b style="padding-left: 10px;">Review Gold Loan Application Information</b>
            </h3>

            <div class="slds-p-around_medium">
                <!-- Account Information Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Account
                    Information</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>New Account: </strong>{searchKey}</p>
                        </div>
                    </div>
                </div>

                <!-- Loan Details Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Loan Details</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Loan Amount: </strong>{loanamount}</p>
                            <p><strong>Loan Term (Months): </strong>{loantenure}</p>
                            <p><strong>Loan Purpose: </strong>{loanpurpose}</p>
                        </div>
                    </div>
                </div>

                <!-- Personal Information Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Personal
                    Information</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Borrower's Name: </strong>{borrowerName}</p>
                            <p><strong>Email Address: </strong>{emailaddress}</p>
                            <p><strong>Phone Number: </strong>{phoneNumber}</p>
                            <p><strong>Date of Birth: </strong>{dob}</p>
                        </div>
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Nationality: </strong>{nationality}</p>
                            <p><strong>Marital Status: </strong>{maritail}</p>
                        </div>
                    </div>
                </div>

                <!-- Employment and Income Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Employment and
                    Income</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Occupation: </strong>{occupation}</p>
                            <p><strong>Annual Income: </strong>{income}</p>
                        </div>
                    </div>
                </div>

                <!-- Residential Address Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Residential
                    Address</h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Address: </strong>{address}</p>
                        </div>
                    </div>
                </div>

                <!-- Documents Provided Section -->
                <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Documents Provided
                </h2>
                <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                            <p><strong>Documents: </strong>{selectedIdProofs}</p>
                        </div>
                    </div>
                </div>
            </div>

            <h2 class="slds-text-heading_medium slds-p-bottom_small" style="font-size: 14px;">Gold Details</h2>
            <div class="slds-box slds-theme_default slds-m-bottom_medium" style="background-color: white;">
                <div class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                        <p><strong>Weight of Gold: </strong>{goldWeight}</p>
                        <p><strong>Type Of Gold: </strong>{goldType}</p>
                        <p><strong>Purity of Gold: </strong>{goldPurity}</p>
                        <!-- <p><strong>Builder Name: </strong>{builderName}</p> -->
                    </div>
                    <!-- <div class="slds-col slds-size_1-of-2 slds-p-horizontal_small">
                        <p><strong>Stage Of Property: </strong>{propertyStage}</p>
                        <p><strong>Property Ownership: </strong>{propertyOwnership}</p>
                    </div> -->
                </div>
            </div>



            <div class="slds-grid">
                <div>
                    <span>  <lightning-button label="Back" variant="brand" onclick={handleBackToFormGold}></lightning-button></span>
                </div>
                <div class="slds-col_bump-left">
                    <span> <lightning-button label="Submit Loan Application" variant="brand" onclick={handleGoldLoanSubmitButtonClick}></lightning-button>
                    </span>
                </div>

            </div>
        </lightning-card>
    </template>


</template>